<div [ngClass]="getClassContainerDiv()">
  @if (label !== '') {
    <label
      [for]="inputId"
      [ngClass]="getClassLabel()"
    >
      {{ label }}
    </label>
  }

  <div [ngClass]="getClassContainerInput()">
    @if (type === 'email') {
      <input
        fluid
        type="text"
        pInputText
        [id]="inputId"
        [formControl]="customFormControl"
        [placeholder]="placeholder"
        [required]="required"
        [readOnly]="readonly"
        [maxLength]="maxLength"
        [minLength]="minLength"
        [variant]="variant"
        [pSize]="size"
        [attr.aria-label]="label"
        [attr.aria-required]="required"
        [attr.aria-describedby]="getAriaDescribedBy()"
        (keydown)="formUtils.isValidEmailCharacters($event)"
        (paste)="formUtils.isValidEmailPaste($event)"
      />
    }

    @if (type === 'password') {
      <p-iconfield>
        <input
          fluid
          [type]="showPassword ? 'text' : 'password'"
          pInputText
          [id]="inputId"
          [formControl]="customFormControl"
          [placeholder]="placeholder"
          [required]="required"
          [readOnly]="readonly"
          [maxLength]="maxLength"
          [minLength]="minLength"
          [variant]="variant"
          [pSize]="size"
          [attr.aria-label]="label"
          [attr.aria-required]="required"
          [attr.aria-describedby]="getAriaDescribedBy()"
          (keydown)="formUtils.isValidPasswordCharacters($event)"
          (paste)="formUtils.isValidPasswordPaste($event)"
        />
        <p-inputicon
          class="cursor-pointer"
          [ngClass]="showPassword ? 'pi pi-eye' : 'pi pi-eye-slash'"
          (click)="showPassword = !showPassword"
        />
      </p-iconfield>
    }

    @if (type === 'onlyLetters') {
      <input
        fluid
        type="text"
        pInputText
        [id]="inputId"
        [formControl]="customFormControl"
        [placeholder]="placeholder"
        [required]="required"
        [readOnly]="readonly"
        [maxLength]="maxLength"
        [minLength]="minLength"
        [variant]="variant"
        [pSize]="size"
        [attr.aria-label]="label"
        [attr.aria-required]="required"
        [attr.aria-describedby]="getAriaDescribedBy()"
        (keydown)="formUtils.isvalidOnlyLettersCharacters($event)"
        (paste)="formUtils.isValidOnlyLettersPaste($event)"
      />
    }

    @if (type === 'onlyPlainLettersUpperCase') {
      <input
        fluid
        type="text"
        pInputText
        [id]="inputId"
        [formControl]="customFormControl"
        [placeholder]="placeholder"
        [required]="required"
        [readOnly]="readonly"
        [maxLength]="maxLength"
        [minLength]="minLength"
        [variant]="variant"
        [pSize]="size"
        [attr.aria-label]="label"
        [attr.aria-required]="required"
        [attr.aria-describedby]="getAriaDescribedBy()"
        (keydown)="formUtils.isValidOnlyPlainLettersCharacters($event)"
        (paste)="formUtils.isValidOnlyPlainLettersPaste($event)"
        (input)="formUtils.convertToUpperCase($event, customFormControl)"
      />
    }

    @if (type === 'onlyNumbers') {
      <input
        fluid
        type="text"
        pInputText
        [id]="inputId"
        [formControl]="customFormControl"
        [placeholder]="placeholder"
        [required]="required"
        [readOnly]="readonly"
        [maxLength]="maxLength"
        [minLength]="minLength"
        [variant]="variant"
        [pSize]="size"
        [attr.aria-label]="label"
        [attr.aria-required]="required"
        [attr.aria-describedby]="getAriaDescribedBy()"
        (keydown)="formUtils.isValidOnlyNumbersCharacters($event)"
        (paste)="formUtils.isValidOnlyNumbersPaste($event)"
      />
    }

    @if (type === 'alphanumeric') {
      <input
        fluid
        type="text"
        pInputText
        [id]="inputId"
        [formControl]="customFormControl"
        [placeholder]="placeholder"
        [required]="required"
        [readOnly]="readonly"
        [maxLength]="maxLength"
        [minLength]="minLength"
        [variant]="variant"
        [pSize]="size"
        [attr.aria-label]="label"
        [attr.aria-required]="required"
        [attr.aria-describedby]="getAriaDescribedBy()"
        (keydown)="formUtils.isValidAlphanumericCharacters($event)"
        (paste)="formUtils.isValidAlphanumericPaste($event)"
      />
    }

    @if (type === 'alphanumericUpperCase') {
      <input
        fluid
        type="text"
        pInputText
        [id]="inputId"
        [formControl]="customFormControl"
        [placeholder]="placeholder"
        [required]="required"
        [readOnly]="readonly"
        [maxLength]="maxLength"
        [minLength]="minLength"
        [variant]="variant"
        [pSize]="size"
        [attr.aria-label]="label"
        [attr.aria-required]="required"
        [attr.aria-describedby]="getAriaDescribedBy()"
        (keydown)="formUtils.isValidAlphanumericCharacters($event)"
        (paste)="formUtils.isValidAlphanumericPaste($event)"
        (input)="formUtils.convertToUpperCase($event, customFormControl)"
      />
    }

    @if (formUtils.isInvalidValidField(customFormControl)) {
      <span
        [id]="inputId + '-error'"
        class="text-red-600"
      >
        {{ formUtils.getFieldError(customFormControl) }}
      </span>
    } @else if (helpText !== null) {
      <span
        [id]="inputId + '-help'"
        [ngClass]="helpTextType === 'error' ? 'text-red-600' : 'text-muted-color'"
      >
        {{ helpText }}
      </span>
    }
  </div>
</div>
